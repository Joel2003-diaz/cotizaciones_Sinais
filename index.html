<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cotizaciones - Cl√≠nica Sinais Vitais</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Formulario izquierda -->
        <div class="form-container">
            <h2 class="section-title">üìù Formulario de Cotizaci√≥n</h2>
            
            <form id="cotizacionForm">
                <!-- Informaci√≥n b√°sica (para Google Sheets) -->
                <div class="form-section">
                    <h3>Informaci√≥n Principal *</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="N_CONSECUTIVO">N¬∞ Cotizaci√≥n *</label>
                            <input type="text" id="N_CONSECUTIVO" name="N_CONSECUTIVO" required 
                                placeholder="Ej: 1524" maxlength="10">
                        </div>
                        
                        <div class="form-group">
                            <label for="FECHA_COTIZACION">Fecha *</label>
                            <input type="date" id="FECHA_COTIZACION" name="FECHA_COTIZACION" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TIPO_DOCUMENTO">Tipo Documento *</label>
                            <select id="TIPO_DOCUMENTO" name="TIPO_DOCUMENTO" required>
                                <option value="CC">C√©dula de Ciudadan√≠a (CC)</option>
                                <option value="TI">Tarjeta de Identidad (TI)</option>
                                <option value="CE">C√©dula de Extranjer√≠a (CE)</option>
                                <option value="PA">Permiso por protecci√≥n temporal (PT)</option>
                                <option value="RC">Registro Civil (RC)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="DOCUMENTO">N¬∞ Documento *</label>
                            <input type="text" id="DOCUMENTO" name="DOCUMENTO" required 
                                placeholder="N√∫mero de documento">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="NOMBRES">Nombre Paciente *</label>
                            <input type="text" id="NOMBRES" name="NOMBRES" required 
                                placeholder="Apellidos y Nombres">
                        </div>
                        
                        <div class="form-group">
                            <label for="SEXO">Sexo *</label>
                            <select id="SEXO" name="SEXO" required>
                                <option value="M">Masculino (M)</option>
                                <option value="F">Femenino (F)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="EMPRESA">EPS / Empresa *</label>
                            <input type="text" id="EMPRESA" name="EMPRESA" required 
                                placeholder="Nombre de la EPS">
                        </div>
                        
                        <div class="form-group">
                            <label for="ESPECIALIDAD">Especialidad *</label>
                            <input type="text" id="ESPECIALIDAD" name="ESPECIALIDAD" required 
                                placeholder="Ej: Cirug√≠a Maxilofacial">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="CODIGO_CUPS">C√≥digo CUPS</label>
                            <input type="text" id="CODIGO_CUPS" name="CODIGO_CUPS" 
                                placeholder="Ej: 750101">
                        </div>
                        
                        <div class="form-group">
                            <label for="SERVICIO_COTIZADO">Servicio *</label>
                            <input type="text" id="SERVICIO_COTIZADO" name="SERVICIO_COTIZADO" required 
                                placeholder="Descripci√≥n del servicio">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="VALOR">Valor Unitario *</label>
                            <input type="number" id="VALOR" name="VALOR" min="0" step="1000" required 
                                placeholder="$">
                        </div>
                        
                        <div class="form-group">
                            <label for="PORCENTAJE_DESCUENTO">% Descuento *</label>
                            <input type="number" id="PORCENTAJE_DESCUENTO" name="PORCENTAJE_DESCUENTO" 
                                min="0" max="100" step="0.1" value="0" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="OBSERVACION">Observaci√≥n *</label>
                            <textarea id="OBSERVACION" name="OBSERVACION" rows="2" required 
                                    placeholder="Observaci√≥n principal"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Informaci√≥n adicional (solo para PDF) -->
                <div class="form-section pdf-only">
                    <h3>Informaci√≥n Adicional (Solo PDF)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TELEFONO">Tel√©fono</label>
                            <input type="tel" id="TELEFONO" name="TELEFONO" 
                                placeholder="Ej: 3106723072">
                        </div>
                        
                        <div class="form-group">
                            <label for="ADMISION">N¬∞ Admisi√≥n</label>
                            <input type="text" id="ADMISION" name="ADMISION" 
                                placeholder="N√∫mero de admisi√≥n">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="DIRECCION">Direcci√≥n</label>
                            <input type="text" id="DIRECCION" name="DIRECCION" 
                                placeholder="Calle, n√∫mero, barrio">
                        </div>
                        
                        <div class="form-group">
                            <label for="CIUDAD">Ciudad</label>
                            <input type="text" id="CIUDAD" name="CIUDAD" 
                                placeholder="Ej: BOSCONIA">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="DEPARTAMENTO">Departamento</label>
                            <input type="text" id="DEPARTAMENTO" name="DEPARTAMENTO" 
                                placeholder="Ej: CESAR">
                        </div>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button type="button" id="vaciarFormulario" class="btn btn-secondary">
                        üóëÔ∏è Vaciar Formulario
                    </button>
                    <button type="button" id="previsualizarBtn" class="btn btn-warning">
                        üëÅÔ∏è Previsualizar
                    </button>
                    <button type="button" id="guardarImprimirBtn" class="btn btn-success">
                        üíæ Guardar + PDF
                    </button>
                    <button type="button" id="imprimirBtn" class="btn btn-primary" disabled>
                        üñ®Ô∏è Imprimir
                    </button>
                    <button type="button" id="descargarPdfBtn" class="btn btn-primary" disabled>
                        üì• Descargar PDF
                    </button>
                </div>
                
                <div id="responseMessage" class="response-message"></div>
            </form>
        </div>

        <!-- Vista previa derecha -->
        <div class="preview-container">
            <div class="preview-header">
                <h2 class="section-title">üëÅÔ∏è Vista Previa</h2>
                <div class="preview-actions">
                    <button type="button" id="imprimirPreviewBtn" class="btn btn-primary" disabled>
                        üñ®Ô∏è Imprimir
                    </button>
                </div>
            </div>
            <div class="cotizacion-preview" id="cotizacionPreview">
                <div class="preview-placeholder">
                    <div class="placeholder-content">
                        <div class="placeholder-icon">üìã</div>
                        <h3>Vista Previa de Cotizaci√≥n</h3>
                        <p>Complete los campos obligatorios (*)</p>
                        <p>y haga clic en "Previsualizar"</p>
                        <small>Los datos marcados con * se guardar√°n en Google Sheets</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>